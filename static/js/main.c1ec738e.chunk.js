(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(22),s=a.n(r),o=(a(27),a(2)),i=a(0);var d=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(i.jsxs)("div",{className:"filter-container",children:[Object(i.jsxs)("form",{action:"#",onSubmit:e.handleFilterForm,children:[Object(i.jsx)("input",{type:"text",placeholder:"Enter keyword",name:"filterTask",onKeyDown:function(t){if(8===t.keyCode){var a=c;if(a.length<=0)return;return a=a.substring(0,a.length-1),r(a),void e.searchTask(a)}var n=c+String.fromCharCode(t.keyCode).toLowerCase();r(n),console.log(n),n.length>=3&&e.searchTask(n)}}),Object(i.jsx)("button",{children:"Search "})]}),Object(i.jsx)("div",{children:e.searchResult.map((function(e){return Object(i.jsxs)("div",{className:"search-result",children:[" ",e.name]},e._id)}))})]})};var l=function(e){return Object(i.jsxs)("div",{className:"warning-container",children:[Object(i.jsx)("h2",{children:"WARNING"}),Object(i.jsx)("div",{children:e.data}),Object(i.jsx)("span",{className:"close-warning-box",onClick:e.closeWarn,children:"X"})]})},u=a(5),j=a.n(u),h=a(9),b=a.n(h);var f=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(i.jsxs)("div",{className:"addTask-container",children:[Object(i.jsxs)("form",{className:"addTask-form",action:"#",onSubmit:function(t){var a;t.preventDefault();var n=t.target.taskName.value,c=t.target.content.value;return n.length<=0?(r("Enter name or description of task"),void setTimeout((function(){console.log("name"),r()}),5e3)):c.length<=0?(r("Enter name or description of task"),void setTimeout((function(){console.log("desc"),r()}),5e3)):(j()({method:"post",url:"http://localhost:80/create",data:b.a.stringify({name:n,content:c}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){window.alert(t.data.message),e.addNewTask(t.data.data)})).catch((function(e){window.alert("data already exists")})),void(null===(a=document.resetForm)||void 0===a||a.reset()))},name:"resetForm",children:[Object(i.jsx)("input",{type:"text",name:"taskName",placeholder:"Enter task name"}),Object(i.jsx)("input",{type:"text",name:"content",placeholder:"Enter description"}),Object(i.jsx)("button",{children:"Add Task"})]}),c&&Object(i.jsx)(l,{data:c,closeWarn:function(){r()}})]})},m=a(10);var p={completed:{backgroundColor:"green"},notCompleted:{backgroundColor:"red"}},O=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),u=d[0],h=d[1],f=Object(n.useState)(),m=Object(o.a)(f,2),O=m[0],x=m[1];return Object(i.jsxs)("div",{className:"taskContent-container",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"checkCompleted",style:c?p.notCompleted:p.completed,onClick:function(){r(!c)},children:c?"Completed":"Not Completed"}),Object(i.jsxs)("div",{className:"update-delete-container",children:[Object(i.jsx)("div",{onClick:function(){if(!c)return x("Task not completed please complete before delete"),void setTimeout((function(){x()}),4e3);j()({method:"delete",url:"http://localhost:80/delete/".concat(e.data._id),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.removeTask(e.data),window.alert(t.data.message)})).catch((function(e){window.alert("Error in deleting task")}))},children:"Delete"}),Object(i.jsx)("div",{onClick:function(){h(!0)},children:"Update"})]})]}),Object(i.jsxs)("div",{className:"display-content",children:["Name : ",e.data.name,Object(i.jsx)("hr",{}),"Description : ",e.data.content]}),Object(i.jsxs)("div",{className:"tooltip",children:[Object(i.jsxs)("div",{children:["Created date : ",e.data.createdAt.substring(0,10)]}),Object(i.jsxs)("div",{children:["Created time : ",e.data.createdAt.substring(11,16)]}),Object(i.jsxs)("div",{children:["Last updated date : ",e.data.updatedAt.substring(0,10)]}),Object(i.jsxs)("div",{children:["Last updated time : ",e.data.updatedAt.substring(11,16)]})]}),u&&Object(i.jsxs)("div",{className:"update-container",children:[Object(i.jsx)("h2",{style:{display:"flex",justifyContent:"center"},children:"Update Task"}),Object(i.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault();var a=t.target.taskName.value,n=t.target.content.value;j()({method:"post",url:"http://localhost:80/update/".concat(e.data._id),data:b.a.stringify({name:a,content:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){window.alert(t.data.message),e.updateTask(t.data.data)})).catch((function(e){window.alert("Error in update")})),h(!1)},name:"resetUpdateForm",children:[Object(i.jsx)("input",{type:"text",name:"taskName",placeholder:e.data.name,required:!0}),Object(i.jsx)("input",{type:"text",name:"content",placeholder:e.data.content.substring(0,15)+"...",required:!0}),Object(i.jsx)("button",{children:"Submit"})]}),Object(i.jsx)("div",{className:"closeUpdate-button",onClick:function(){h(!1)},children:"X"})]}),O&&Object(i.jsx)(l,{data:O,closeWarn:function(){x()}})]})};var x=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){fetch("http://localhost:80/fetch").then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){if("all"!=e.searchText){var t=c.filter((function(t){return t.name.substring(0,e.searchText.length)==e.searchText}));e.searchData(t)}else e.searchData(c)}),[e.searchText]),Object(n.useEffect)((function(){e.newTask&&r((function(t){return[].concat(Object(m.a)(t),[e.newTask])}))}),[e.newTask]);var s=function(e){for(var t=Object(m.a)(c),a=0,n=0;n<t.length;n++)if(t[n]._id==e._id){a=n;break}t.splice(a,1),r(t)},d=function(e){var t=Object(m.a)(c);console.log("upst=",e);for(var a=0;a<t.length;a++)if(t[a]._id==e._id){t[a]=e;break}r(t)};return Object(i.jsx)("div",{className:"tasks-container",children:c.map((function(e){return Object(i.jsx)(O,{data:e,removeTask:s,updateTask:d},e._id)}))})};var v=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),s=Object(o.a)(r,2),l=s[0],u=s[1],j=Object(n.useState)([]),h=Object(o.a)(j,2),b=h[0],m=h[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:"To do app"}),Object(i.jsx)(d,{searchTask:function(e){e.length<3||u(e)},searchResult:b,handleFilterForm:function(e){e.preventDefault();var t=e.target.filterTask.value;t.length<3?u("all"):u(t)}}),Object(i.jsx)(f,{addNewTask:function(e){c(e)}}),Object(i.jsx)(x,{newTask:a,searchText:l,searchData:function(e){m(e)}})]})};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c1ec738e.chunk.js.map